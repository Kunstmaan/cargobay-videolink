var cargobay=cargobay||{};cargobay.videolink=function(e){var t,o,i;o=function(e,t){var o,i;switch(e){case"youtube":i="//www.youtube.com/embed/"+t+"?title=0&amp;byline=0&amp;portrait=0;&amp;badge=0&amp;autoplay=1";break;case"vimeo":i="//player.vimeo.com/video/"+t+"?title=0&amp;byline=0&amp;portrait=0&amp;badge=0&amp;autoplay=1";break;case"dailymotion":i="//www.dailymotion.com/embed/video/"+t+"?autoplay=1";break;default:i=""}return""!==i?(o=document.createElement("iframe"),o.setAttribute("src",i),o.setAttribute("webkitallowfullscreen","true"),o.setAttribute("mozallowfullscreen","true"),o.setAttribute("allowfullscreen","true"),o.frameBorder=0,o.style.width="100%",o.style.height="100%"):o="<p>Sorry, this provider is not supported yet.</p>",o},_setVideoPlaceholder=function(e,t,o){if("youtube"===e)o.src="//img.youtube.com/vi/"+t+"/maxresdefault.jpg";else{var i,a,l,r=new XMLHttpRequest;"vimeo"===e?i="http://vimeo.com/api/v2/video/"+t+".json":"dailymotion"===e&&(i="https://api.dailymotion.com/video/"+t+"?fields=thumbnail_720_url"),r.open("GET",i,!0),r.onload=function(){r.status>=200&&r.status<400&&(a=JSON.parse(r.responseText),"vimeo"===e?l=a[0].thumbnail_large:"dailymotion"===e&&(l=a.thumbnail_720_url),o.src=l)},r.send()}},_videoPlaceholders=function(){[].forEach.call(document.querySelectorAll(".js-videolink-placeholder"),function(e){var t=e.parentNode.getAttribute("data-video-provider"),o=e.parentNode.getAttribute("data-video-id");_setVideoPlaceholder(t,o,e)})},i=function(){_videoPlaceholders(),[].forEach.call(document.querySelectorAll(".js-videolink-play-link"),function(e){e.addEventListener("click",function(t){t.preventDefault();var i=e.getAttribute("data-video-provider"),a=e.getAttribute("data-video-id"),l=e.parentNode.getElementsByClassName("js-videolink-container")[0],r=o(i,a);e.parentNode.querySelector(".videolink__video-link").classList.add("videolink__video-link--hidden"),l.appendChild(r)},!1)})},t=function(){i()}()};